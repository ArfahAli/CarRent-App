{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { collection, getDocs, deleteDoc, doc } from 'firebase/firestore';\nimport { db } from \"../config/firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar RentedCarsScreen = function RentedCarsScreen() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    rentedCars = _useState2[0],\n    setRentedCars = _useState2[1];\n  useEffect(function () {\n    fetchRentedCars();\n  }, []);\n  var fetchRentedCars = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var querySnapshot = yield getDocs(collection(db, 'rentedCars'));\n        var cars = [];\n        querySnapshot.forEach(function (doc) {\n          cars.push(_objectSpread({\n            id: doc.id\n          }, doc.data()));\n        });\n        setRentedCars(cars);\n      } catch (error) {\n        console.error('Error fetching rented cars:', error);\n      }\n    });\n    return function fetchRentedCars() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var handleUnrent = function () {\n    var _ref2 = _asyncToGenerator(function* (carId) {\n      yield deleteDoc(doc(db, 'rentedCars', carId));\n      fetchRentedCars();\n    });\n    return function handleUnrent(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(ScrollView, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.heading,\n      children: \"Rented Cars\"\n    }), rentedCars.map(function (car) {\n      return _jsxs(View, {\n        style: styles.card,\n        children: [_jsxs(Text, {\n          style: styles.title,\n          children: [car.make, \" \", car.model]\n        }), _jsxs(Text, {\n          style: styles.text,\n          children: [\"Price per day: $\", car.price_per_day]\n        }), _jsxs(Text, {\n          style: styles.text,\n          children: [\"Rented Date: \", car.rentedDate]\n        }), _jsx(TouchableOpacity, {\n          style: styles.unrentButton,\n          onPress: function onPress() {\n            return handleUnrent(car.id);\n          },\n          children: _jsx(Text, {\n            style: styles.unrentButtonText,\n            children: \"Unrent\"\n          })\n        })]\n      }, car.id);\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 10\n  },\n  heading: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 20\n  },\n  card: {\n    backgroundColor: 'white',\n    borderRadius: 8,\n    padding: 15,\n    marginBottom: 10,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1\n    },\n    shadowOpacity: 0.2,\n    shadowRadius: 1,\n    elevation: 3\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 5\n  },\n  text: {\n    fontSize: 14,\n    color: 'gray'\n  },\n  unrentButton: {\n    marginTop: 10,\n    backgroundColor: 'red',\n    padding: 10,\n    borderRadius: 5\n  },\n  unrentButtonText: {\n    color: 'white',\n    fontSize: 16,\n    textAlign: 'center'\n  }\n});\nexport default RentedCarsScreen;","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","ScrollView","TouchableOpacity","collection","getDocs","deleteDoc","doc","db","jsx","_jsx","jsxs","_jsxs","RentedCarsScreen","_useState","_useState2","_slicedToArray","rentedCars","setRentedCars","fetchRentedCars","_ref","_asyncToGenerator","querySnapshot","cars","forEach","push","_objectSpread","id","data","error","console","apply","arguments","handleUnrent","_ref2","carId","_x","style","styles","container","children","heading","map","car","card","title","make","model","text","price_per_day","rentedDate","unrentButton","onPress","unrentButtonText","create","flex","padding","fontSize","fontWeight","textAlign","marginBottom","backgroundColor","borderRadius","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","color","marginTop"],"sources":["C:/Users/cui/Desktop/carRent/carRent/CarRent-App/src/screens/MapScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, ScrollView, TouchableOpacity } from 'react-native';\nimport { collection, getDocs, deleteDoc, doc } from 'firebase/firestore';\nimport { db } from '../config/firebase'; // Update the path as per your project structure\n\nconst RentedCarsScreen = () => {\n  const [rentedCars, setRentedCars] = useState([]);\n\n  useEffect(() => {\n    fetchRentedCars();\n  }, []);\n\n  const fetchRentedCars = async () => {\n    try {\n      const querySnapshot = await getDocs(collection(db, 'rentedCars'));\n      const cars = [];\n      querySnapshot.forEach((doc) => {\n        cars.push({ id: doc.id, ...doc.data() });\n      });\n      setRentedCars(cars);\n    } catch (error) {\n      console.error('Error fetching rented cars:', error);\n    }\n  };\n\n  const handleUnrent = async (carId) => {\n    await deleteDoc(doc(db, 'rentedCars', carId));\n    fetchRentedCars(); // Refresh the list of rented cars\n  };\n\n  return (\n    <ScrollView style={styles.container}>\n      <Text style={styles.heading}>Rented Cars</Text>\n      {rentedCars.map((car) => (\n        <View key={car.id} style={styles.card}>\n          <Text style={styles.title}>{car.make} {car.model}</Text>\n          <Text style={styles.text}>Price per day: ${car.price_per_day}</Text>\n          <Text style={styles.text}>Rented Date: {car.rentedDate}</Text>\n          <TouchableOpacity style={styles.unrentButton} onPress={() => handleUnrent(car.id)}>\n            <Text style={styles.unrentButtonText}>Unrent</Text>\n          </TouchableOpacity>\n        </View>\n      ))}\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 10,\n  },\n  heading: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  card: {\n    backgroundColor: 'white',\n    borderRadius: 8,\n    padding: 15,\n    marginBottom: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 1 },\n    shadowOpacity: 0.2,\n    shadowRadius: 1,\n    elevation: 3,\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 5,\n  },\n  text: {\n    fontSize: 14,\n    color: 'gray',\n  },\n  unrentButton: {\n    marginTop: 10,\n    backgroundColor: 'red',\n    padding: 10,\n    borderRadius: 5,\n  },\n  unrentButtonText: {\n    color: 'white',\n    fontSize: 16,\n    textAlign: 'center',\n    \n  },\n  // Additional styles can be added as needed\n});\n\nexport default RentedCarsScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}